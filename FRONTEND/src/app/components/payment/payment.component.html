

<div class="container">
  <section class="payment-section">
    <h2 class="section-title">Thanh toán</h2>
    <hr class="section-divider" />

    <div class="address-info">
      <p class="address">KTX Khu B, ĐHQG, Linh Trung, Thủ Đức, Hồ Chí Minh</p>
      <button class="change-btn">Thay đổi</button>
    </div>

    <div class="phone-info">
      <p class="phone-number">0337085901</p>
      <button class="change-btn">Thay đổi</button>
    </div>

    <div class="payment-method">
      <h3 class="subsection-title">Phương thức thanh toán:</h3>
      <div class="method-options">
        <label>
          <input
            type="radio"
            name="paymentMethod"
            [(ngModel)]="paymentMethod"
            value="card"
          />
          Thẻ
        </label>
        <label>
          <input
            type="radio"
            name="paymentMethod"
            [(ngModel)]="paymentMethod"
            value="cod"
          />
          COD
        </label>
      </div>
    </div>

    <!-- Thẻ payment form -->
    <form *ngIf="paymentMethod === 'card'" class="card-form">
      <div class="form-group">
        <label for="cardNumber" class="form-label">Số thẻ</label>
        <input
          type="text"
          id="cardNumber"
          class="form-input"
          placeholder="1234 5678 9101 1121"
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="expiryDate" class="form-label">Ngày hết hạn</label>
          <input
            type="text"
            id="expiryDate"
            class="form-input"
            placeholder="MM/YY"
          />
        </div>
        <div class="form-group">
          <label for="cvv" class="form-label">CVV</label>
          <input type="text" id="cvv" class="form-input" placeholder="123" />
        </div>
      </div>

      <button type="submit" class="submit-btn">TIẾP TỤC</button>
    </form>

    <!-- COD payment form -->
    <div *ngIf="paymentMethod === 'cod'" class="cod-form">
      <p>Thanh toán khi nhận hàng.</p>
      <button type="button" class="submit-btn">Xác nhận COD</button>
    </div>
  </section>

  <section class="summary-section">
    <h2 class="section-title">Thông tin đơn hàng</h2>
    <hr class="section-divider" />

    <div class="price-breakdown">
      <div class="price-row">
        <span>Tổng tiền hàng:</span> 
        
        <span>{{ totalAmount | currency: 'VND' }}</span>
      </div>
      <div>
        <span>Phí ship: 0đ</span>
      </div>
      
      <div class="voucher-section">
        
        <form (submit)="applyVoucher(voucherInput.value); $event.preventDefault()">
          <input
            type="text"
            #voucherInput
            placeholder="Nhập số tiền giảm giá voucher"
            class="voucher-input"
          />
          <button type="submit" class="voucher-btn">Áp dụng</button>
        </form>
        
        
        
      </div>

      

      <div *ngIf="voucherValue > 0" class="voucher-applied">
        <div class="price-row">
          <span>Voucher:</span>
          <span>-{{ voucherValue | currency: 'VND' }}</span>
        </div>
      </div>

      <hr class="section-divider" />

      
     

      <div class="total-price">
        <span>Tổng thanh toán:</span>
        <span>{{ totalAmountAfterVoucher | currency: 'VND' }}</span>
      </div>
      
    </div>
  </section>
</div>
